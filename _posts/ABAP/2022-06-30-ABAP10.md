---
title: "[ABAP] ABAP New Syntax / New OPEN SQL"
author: Jinsol
categories: SAP/ABAP
tags: SAP/ABAP
date: '2022-06-30'
# image: /assets/img/.png
---

<br>

## <span style="color:#EE81B3">**π ABAP New Syntax**</span>
<hr>

<br>
<br>

### <span style="color:#EE81B3">**π Inline Declarations**</span>
<hr>
<br>

Inline Declarationμ΄λ€? λ―Έλ¦¬ dataλ¥Ό μ„ μ–Έν•μ§€ μ•κ³  lineμ—μ„ μ„ μ–Έν•λ” λ¬Έλ²•

<br>

#### <span style="color:#EE81B3">**π Data**</span>
<hr>

- Before 7.40

    ```
    DATA text TYPE string.
    text = 'ABAP'.
    ```

- With 7.40

    ```
    DATA(text) = 'ABAP'.
    ```
    
<br>

#### <span style="color:#EE81B3">**π LOOP AT INTO wa**</span>
<hr>

- Before 7.40

    ```
    DATA : wa LIKE LINE OF itab.

    LOOP AT itab INTO wa.
      ...
    ENDLOOP.
    ```

- With 7.40

    ```
    LOOP AT itab INTO DATA(wa).
      ...
    ENDLOOP.
    ```

<br>

#### <span style="color:#EE81B3">**π SELECT INTO itab**</span>
<hr>
    
- Before 7.40

    ```
    DATA : itab TYPE TABLE OF dbtab.

    SELECT * FROM dbtab
      INTO TABLE itab
      WHERE field = lv_field.
    ```

- With 7.40

    ```
    SELECT * FROM dbtab
      INTO TABLE @DATA(itab)
      WHERE field = lv_field.
    ```

<br>
<br>

### <span style="color:#EE81B3">**π Table Expressions**</span>
<hr>
<br>

#### <span style="color:#EE81B3">**π READ TABLE index**</span>
<hr>
    
- Before 7.40

    ```
    READ TABLE itab INDEX idx
      INTO wa.
    ```

- With 7.40

    ```
    wa = itab[ idx ].
    ```

<br>

#### <span style="color:#EE81B3">**π READ TABLE USING key**</span>
<hr>
    
- Before 7.40

    ```
    READ TABLE itab INDEX idx
      USING KEY key 
      INTO wa.
    ```

- With 7.40

    ```
    wa = itab[ KEY key INDEX idx ].
    ```
    
<br>

#### <span style="color:#EE81B3">**π Does Record Exist?**</span>
<hr>
    
- Before 7.40

    ```
    READ TABLE itab ...
      TRANSPORTING NO FIELDS.

    IF sy-subrc = 0.
      ...
    ENDIF.
    ```

- With 7.40

    ```
    IF line_exists( itab[ ... ] )
      ...
    ENDIF.
    ```
       
<br>

#### <span style="color:#EE81B3">**π Get Table Index**</span>
<hr>
    
- Before 7.40

    ```
    DATA idx TYPE sy-tabix.

    READ TABLE ...
      TRANSPORTING NO FIELDS.
    idx = sy-tabix.
    ```

- With 7.40

    ```
    DATA(idx) = line_index( itab[ ... ] ).
    ```
    
<br>
<br>

### <span style="color:#EE81B3">**π New OPEN SQL**</span>
<hr>
<br>

#### <span style="color:#EE81B3">**π , / @**</span>
<hr>

- Before 7.40

    ```
    SELECT field1 field2 
      FROM dbtab
      INTO CORRESPONDING FIELDS OF TABLE itab
      WHERE field1 = field1
      AND field2 = field2.
    ```

- With 7.40

    ```
    SELECT field1, field2 
      FROM dbtab
      INTO CORRESPONDING FIELDS OF TABLE @itab
      WHERE field1 = @field1
      AND field2 = @field2.
    ```